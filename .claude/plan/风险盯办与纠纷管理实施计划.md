# é£é™©ç›¯åŠä¸çº çº·ç®¡ç†æ¨¡å—å®æ–½è®¡åˆ’

> **åˆ›å»ºæ—¶é—´**: 2026-01-23
> **æ¨¡å—**: æ‰§æ³•é—®é¢˜é£é™©ç›¯åŠ + çŸ›ç›¾çº çº·é—­ç¯ç®¡ç†
> **æŠ€æœ¯æ ˆ**: FastAPI + SQLAlchemy + Vue 3 + DataV
> **é¢„è®¡å·¥ä½œé‡**: åç«¯ 4-6 å°æ—¶ï¼Œå‰ç«¯ 3-4 å°æ—¶

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬è®¡åˆ’æ—¨åœ¨å®ç°ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š
1. **æ‰§æ³•é—®é¢˜é£é™©ç›¯åŠ** - å±•ç¤ºæ¡ˆä»¶é£é™©é—®é¢˜ï¼ŒæŒ‰æ•´æ”¹æœŸé™æ’åºï¼Œè¶…æœŸçº¢è‰²/é»„è‰²é«˜äº®
2. **çŸ›ç›¾çº çº·é—­ç¯ç®¡ç†** - å±•ç¤ºçº çº·äº‹ä»¶ï¼ŒæŒ‰é£é™©ç­‰çº§å’Œå¤„ç½®è¿›åº¦ç­›é€‰ï¼Œæ»šåŠ¨å±•ç¤º

### æ ¸å¿ƒç‰¹æ€§
- âœ… Excel æ ·å¼è¿˜åŸï¼ˆå­—ä½“é¢œè‰²ã€èƒŒæ™¯è‰²ï¼‰
- âœ… åç«¯è§„åˆ™é…ç½®åŒ–ï¼ˆt_display_rule è¡¨ï¼‰
- âœ… å‰ç«¯åŠ¨æ€æ ·å¼æ¸²æŸ“ï¼ˆrowStyleï¼‰
- âœ… ç‹¬ç«‹é¡µé¢å¸ƒå±€ï¼ˆ/cases å’Œ /disputesï¼‰
- âœ… DataV æ»šåŠ¨è¡¨æ ¼ç»„ä»¶

---

## ğŸ¯ æŠ€æœ¯æ–¹æ¡ˆ

### åç«¯æ¶æ„ï¼ˆCodex è§„åˆ’ï¼‰

**æ•°æ®åº“è®¾è®¡ï¼š**
- `t_risk_supervision` - æ‰§æ³•é—®é¢˜é£é™©ç›¯åŠè¡¨
- `t_dispute_management` - çŸ›ç›¾çº çº·é—­ç¯ç®¡ç†è¡¨
- `t_display_rule` - æ˜¾ç¤ºè§„åˆ™é…ç½®è¡¨

**API è®¾è®¡ï¼š**
- `GET /api/v1/data/risk-supervision` - è·å–æ‰§æ³•é—®é¢˜åˆ—è¡¨
- `GET /api/v1/data/dispute-management` - è·å–çº çº·åˆ—è¡¨
- å‚æ•°ï¼š`page`, `page_size`, `include_rules`, `status`, `risk_level`

**å“åº”æ ¼å¼ï¼š**
```json
{
  "code": 200,
  "data": {
    "total": 1,
    "items": [
      {
        "case_number": "330903202401010001",
        "case_name": "ç¤ºä¾‹æ¡ˆä»¶",
        "case_time": "2024-01-01T09:00:00+08:00",
        "case_type": "åˆ‘äº‹",
        "risk_issues": ["æ¡ˆä»¶ç¬”å½•æœªå…³è”"],
        "deadline": "2024-01-03T23:59:59+08:00",
        "officer_name": "å¼ ä¸‰",
        "days_remaining": 2,
        "style": {
          "font_color": "#f5222d",
          "background_color": "#fff1f0",
          "style_token": "deadline_red"
        }
      }
    ],
    "rules": [
      {
        "rule_type": "color",
        "rule_name": "æ•´æ”¹æœŸé™é¢œè‰²è§„åˆ™",
        "rule_config": {
          "field": "days_remaining",
          "conditions": [
            {
              "operator": "<=",
              "value": 3,
              "font_color": "#f5222d",
              "background_color": "#fff1f0",
              "style_token": "deadline_red"
            }
          ]
        }
      }
    ]
  }
}
```

### å‰ç«¯æ¶æ„ï¼ˆGemini è§„åˆ’ï¼‰

**è·¯ç”±é…ç½®ï¼š**
- `/cases` - æ‰§æ³•é—®é¢˜é£é™©ç›¯åŠé¡µé¢
- `/disputes` - çŸ›ç›¾çº çº·é—­ç¯ç®¡ç†é¡µé¢

**ç»„ä»¶ç»“æ„ï¼š**
- `Cases.vue` - æ‰§æ³•é—®é¢˜é¡µé¢
- `Disputes.vue` - çº çº·ç®¡ç†é¡µé¢
- `PageHeader.vue` - é¡µé¢æ ‡é¢˜ç»„ä»¶ï¼ˆå¤ç”¨ï¼‰

**DataV é…ç½®ï¼š**
```javascript
const config = computed(() => ({
  header: ['æ¡ˆä»¶ç¼–å·', 'æ¡ˆä»¶åç§°', 'æ¡ˆå‘æ—¶é—´', 'æ¡ˆä»¶ç±»å‹', 'é£é™©é—®é¢˜', 'æ•´æ”¹æœŸé™', 'è´£ä»»æ°‘è­¦'],
  data: rawData.value.map(item => [
    item.case_number,
    item.case_name,
    formatDate(item.case_time),
    item.case_type,
    item.risk_issues.join(', '),
    formatDate(item.deadline),
    item.officer_name
  ]),
  rowStyle: (row, rowIndex) => {
    const item = rawData.value[rowIndex];
    if (item && item.style) {
      return {
        background: item.style.background_color,
        color: item.style.font_color,
        height: '48px',
        fontSize: '16px',
      };
    }
    return { height: '48px', fontSize: '16px' };
  },
  headerBGC: '#1e3a8a',
  oddRowBGC: 'rgba(0,0,0,0.2)',
  evenRowBGC: 'rgba(0,0,0,0.3)',
  align: ['center', 'center', 'center', 'center', 'left', 'center', 'center'],
  rowNum: 10,
  waitTime: 3000,
}));
```

---

## ğŸ“‚ æ–‡ä»¶æ¸…å•

### åç«¯æ–‡ä»¶ï¼ˆbackend/ï¼‰

**æ–°å¢æ–‡ä»¶ï¼š**
```
backend/app/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ risk_supervision.py          # æ‰§æ³•é—®é¢˜æ¨¡å‹
â”‚   â”œâ”€â”€ dispute_management.py        # çº çº·ç®¡ç†æ¨¡å‹
â”‚   â””â”€â”€ display_rule.py              # æ˜¾ç¤ºè§„åˆ™æ¨¡å‹
â”œâ”€â”€ schemas/
â”‚   â”œâ”€â”€ risk_supervision.py          # æ‰§æ³•é—®é¢˜ Schema
â”‚   â”œâ”€â”€ dispute_management.py        # çº çº·ç®¡ç† Schema
â”‚   â””â”€â”€ display_rule.py              # æ˜¾ç¤ºè§„åˆ™ Schema
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ risk_supervision.py          # æ‰§æ³•é—®é¢˜æœåŠ¡
â”‚   â”œâ”€â”€ dispute_management.py        # çº çº·ç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ display_rule.py              # æ˜¾ç¤ºè§„åˆ™æœåŠ¡
â”œâ”€â”€ api/
â”‚   â””â”€â”€ data.py                      # æ•°æ® API è·¯ç”±
â””â”€â”€ utils/
    â””â”€â”€ timezone.py                  # æ—¶åŒºå·¥å…·

backend/tests/
â”œâ”€â”€ test_risk_supervision_api.py     # æ‰§æ³•é—®é¢˜ API æµ‹è¯•
â”œâ”€â”€ test_dispute_management_api.py   # çº çº·ç®¡ç† API æµ‹è¯•
â””â”€â”€ test_display_rules.py            # æ˜¾ç¤ºè§„åˆ™æµ‹è¯•
```

**ä¿®æ”¹æ–‡ä»¶ï¼š**
```
backend/
â”œâ”€â”€ main.py                          # æ³¨å†Œ data è·¯ç”±
â”œâ”€â”€ app/core/init_db.py              # åˆå§‹åŒ–æ–°è¡¨å’Œæ•°æ®
â””â”€â”€ app/models/__init__.py           # å¯¼å‡ºæ–°æ¨¡å‹
```

### å‰ç«¯æ–‡ä»¶ï¼ˆfrontend/ï¼‰

**ä¿®æ”¹æ–‡ä»¶ï¼š**
```
frontend/src/
â”œâ”€â”€ router/index.js                  # æ·»åŠ  /cases å’Œ /disputes è·¯ç”±
â”œâ”€â”€ api/data.js                      # æ·»åŠ  getCaseData å’Œ getDisputeData
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ Cases.vue                    # æ‰§æ³•é—®é¢˜é¡µé¢ï¼ˆé‡å†™ï¼‰
â”‚   â””â”€â”€ Disputes.vue                 # çº çº·ç®¡ç†é¡µé¢ï¼ˆé‡å†™ï¼‰
â””â”€â”€ views/Home.vue                   # æ›´æ–°å¯¼èˆªé“¾æ¥ï¼ˆå¦‚éœ€è¦ï¼‰
```

---

## ğŸ”§ å®æ–½æ­¥éª¤

### é˜¶æ®µ 1ï¼šåç«¯æ•°æ®åº“å’Œæ¨¡å‹ï¼ˆ1-2 å°æ—¶ï¼‰

1. **åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„**
   - åœ¨ `app/core/init_db.py` ä¸­æ·»åŠ å»ºè¡¨ SQL
   - æ‰§è¡Œ `t_risk_supervision`ã€`t_dispute_management`ã€`t_display_rule` å»ºè¡¨è¯­å¥

2. **åˆ›å»º ORM æ¨¡å‹**
   - `app/models/risk_supervision.py` - RiskSupervision æ¨¡å‹
   - `app/models/dispute_management.py` - DisputeManagement æ¨¡å‹
   - `app/models/display_rule.py` - DisplayRule æ¨¡å‹
   - æ›´æ–° `app/models/__init__.py` å¯¼å‡ºæ–°æ¨¡å‹

3. **åˆ›å»º Pydantic Schema**
   - `app/schemas/risk_supervision.py` - è¯·æ±‚/å“åº”æ¨¡å‹
   - `app/schemas/dispute_management.py` - è¯·æ±‚/å“åº”æ¨¡å‹
   - `app/schemas/display_rule.py` - è§„åˆ™é…ç½®æ¨¡å‹

4. **åˆå§‹åŒ–ç¤ºä¾‹æ•°æ®**
   - åœ¨ `init_db.py` ä¸­æ’å…¥ 2 æ¡æ‰§æ³•é—®é¢˜ç¤ºä¾‹
   - æ’å…¥ 2 æ¡çº çº·ç®¡ç†ç¤ºä¾‹
   - æ’å…¥ 3 æ¡æ˜¾ç¤ºè§„åˆ™é…ç½®

### é˜¶æ®µ 2ï¼šåç«¯æœåŠ¡å’Œ APIï¼ˆ2-3 å°æ—¶ï¼‰

5. **åˆ›å»ºæœåŠ¡å±‚**
   - `app/services/risk_supervision.py` - æŸ¥è¯¢ã€æ’åºã€æ ·å¼è®¡ç®—
   - `app/services/dispute_management.py` - æŸ¥è¯¢ã€ç­›é€‰ã€æ ·å¼è®¡ç®—
   - `app/services/display_rule.py` - è§„åˆ™æŸ¥è¯¢å’ŒåŒ¹é…
   - `app/utils/timezone.py` - æ—¶åŒºå·¥å…·å’Œ days_remaining è®¡ç®—

6. **åˆ›å»º API è·¯ç”±**
   - `app/api/data.py` - å®ç°ä¸¤ä¸ª GET ç«¯ç‚¹
   - åœ¨ `main.py` ä¸­æ³¨å†Œ data è·¯ç”±

7. **æµ‹è¯•åç«¯ API**
   - å¯åŠ¨åç«¯ï¼š`python main.py`
   - è®¿é—® Swagger UIï¼šhttp://localhost:8000/docs
   - æµ‹è¯• `/api/v1/data/risk-supervision` ç«¯ç‚¹
   - æµ‹è¯• `/api/v1/data/dispute-management` ç«¯ç‚¹
   - éªŒè¯å“åº”æ ¼å¼å’Œæ ·å¼ä¿¡æ¯

### é˜¶æ®µ 3ï¼šå‰ç«¯ API å°è£…ï¼ˆ30 åˆ†é’Ÿï¼‰

8. **æ·»åŠ  API è¯·æ±‚æ–¹æ³•**
   - åœ¨ `src/api/data.js` ä¸­æ·»åŠ  `getCaseData` å‡½æ•°
   - æ·»åŠ  `getDisputeData` å‡½æ•°
   - ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ API ç«¯ç‚¹è·¯å¾„

### é˜¶æ®µ 4ï¼šå‰ç«¯é¡µé¢å¼€å‘ï¼ˆ2-3 å°æ—¶ï¼‰

9. **å¼€å‘ Cases.vueï¼ˆæ‰§æ³•é—®é¢˜é£é™©ç›¯åŠï¼‰**
   - å¯¼å…¥ `getCaseData` API
   - åœ¨ `onMounted` ä¸­è°ƒç”¨ API è·å–æ•°æ®
   - é…ç½® `dv-scroll-board` ç»„ä»¶
   - å®ç° `rowStyle` åŠ¨æ€æ ·å¼
   - æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†
   - ä½¿ç”¨ UnoCSS è°ƒæ•´å¸ƒå±€

10. **å¼€å‘ Disputes.vueï¼ˆçŸ›ç›¾çº çº·é—­ç¯ç®¡ç†ï¼‰**
    - å¯¼å…¥ `getDisputeData` API
    - æ·»åŠ ç­›é€‰æŒ‰é’®ï¼ˆæœªè°ƒè§£ã€å¾…ç›¯åŠï¼‰
    - å®ç°ç­›é€‰é€»è¾‘ï¼ˆcomputed å±æ€§ï¼‰
    - é…ç½® `dv-scroll-board` ç»„ä»¶
    - å®ç° `rowStyle` åŠ¨æ€æ ·å¼
    - æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†

11. **æ›´æ–°è·¯ç”±é…ç½®**
    - åœ¨ `router/index.js` ä¸­ç¡®è®¤ `/cases` å’Œ `/disputes` è·¯ç”±
    - æµ‹è¯•è·¯ç”±è·³è½¬

12. **æ›´æ–°é¦–é¡µå¯¼èˆª**
    - åœ¨ `Home.vue` ä¸­æ›´æ–°å¯¼èˆªæŒ‰é’®é“¾æ¥
    - ç¡®ä¿ç‚¹å‡»"æ‰§æ³•é—®é¢˜é£é™©ç›¯åŠ"è·³è½¬åˆ° `/cases`
    - ç¡®ä¿ç‚¹å‡»"æœªçŸ›ç›¾çº çº·é—­ç¯ç®¡ç†"è·³è½¬åˆ° `/disputes`

### é˜¶æ®µ 5ï¼šæµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ1 å°æ—¶ï¼‰

13. **åŠŸèƒ½æµ‹è¯•**
    - æµ‹è¯•é¡µé¢åŠ è½½å’Œæ•°æ®å±•ç¤º
    - æµ‹è¯•æ ·å¼é«˜äº®ï¼ˆçº¢è‰²ã€é»„è‰²ï¼‰
    - æµ‹è¯•ç­›é€‰åŠŸèƒ½ï¼ˆDisputes é¡µé¢ï¼‰
    - æµ‹è¯•æ»šåŠ¨æ•ˆæœ
    - æµ‹è¯•å“åº”å¼å¸ƒå±€

14. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
    - æ·»åŠ é¼ æ ‡æ‚¬åœæš‚åœæ»šåŠ¨
    - æ·»åŠ ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼ˆå¯é€‰ï¼‰
    - ä¼˜åŒ–åŠ è½½çŠ¶æ€æç¤º
    - ä¼˜åŒ–ç©ºçŠ¶æ€å’Œé”™è¯¯çŠ¶æ€

15. **ä»£ç å®¡æŸ¥å’Œæ–‡æ¡£**
    - æ£€æŸ¥ä»£ç é£æ ¼å’Œè§„èŒƒ
    - æ·»åŠ å¿…è¦çš„æ³¨é‡Š
    - æ›´æ–° CLAUDE.md æ–‡æ¡£

---

## ğŸ¨ æ ·å¼è§„èŒƒ

### é¢œè‰²é…ç½®

**æ‰§æ³•é—®é¢˜é£é™©ç›¯åŠï¼š**
- â‰¤3å¤©ï¼šå­—ä½“ `#f5222d`ï¼ˆçº¢è‰²ï¼‰ï¼ŒèƒŒæ™¯ `#fff1f0`ï¼ˆæµ…çº¢ï¼‰
- â‰¤7å¤©ï¼šå­—ä½“ `#faad14`ï¼ˆé»„è‰²ï¼‰ï¼ŒèƒŒæ™¯ `#fffbe6`ï¼ˆæµ…é»„ï¼‰
- æ­£å¸¸ï¼šé»˜è®¤æ ·å¼

**çŸ›ç›¾çº çº·é—­ç¯ç®¡ç†ï¼š**
- é«˜é£é™©ï¼šå­—ä½“ `#f5222d`ï¼ˆçº¢è‰²ï¼‰ï¼ŒèƒŒæ™¯ `#fff1f0`ï¼ˆæµ…çº¢ï¼‰
- ä¸­é£é™©ï¼šå­—ä½“ `#faad14`ï¼ˆé»„è‰²ï¼‰ï¼ŒèƒŒæ™¯ `#fffbe6`ï¼ˆæµ…é»„ï¼‰
- ä½é£é™©ï¼šå­—ä½“ `#52c41a`ï¼ˆç»¿è‰²ï¼‰ï¼ŒèƒŒæ™¯ `#f6ffed`ï¼ˆæµ…ç»¿ï¼‰

### ä¸»é¢˜è‰²
- è­¦åŠ¡è“ï¼š`#1e3a8a`ï¼ˆæ·±è“ï¼‰ã€`#3b82f6`ï¼ˆäº®è“ï¼‰
- è¡¨å¤´èƒŒæ™¯ï¼š`#1e3a8a`
- å¥‡æ•°è¡ŒèƒŒæ™¯ï¼š`rgba(0,0,0,0.2)`
- å¶æ•°è¡ŒèƒŒæ™¯ï¼š`rgba(0,0,0,0.3)`

---

## âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹

### åç«¯
1. **æ—¶åŒºå¤„ç†**ï¼šç»Ÿä¸€ä½¿ç”¨ `Asia/Shanghai` (UTC+8)
2. **æšä¸¾æ ¡éªŒ**ï¼šä¸¥æ ¼æ ¡éªŒ `case_type`ã€`risk_level`ã€`status` æšä¸¾å€¼
3. **days_remaining è®¡ç®—**ï¼šä½¿ç”¨ `math.ceil` å‘ä¸Šå–æ•´ï¼Œå…è®¸è´Ÿå€¼è¡¨ç¤ºè¶…æœŸ
4. **SQLite é™åˆ¶**ï¼šJSON æŸ¥è¯¢èƒ½åŠ›å¼±ï¼Œå¤æ‚ç­›é€‰è€ƒè™‘å…³ç³»è¡¨
5. **åˆ†é¡µé™åˆ¶**ï¼šè®¾ç½® `page_size` ä¸Šé™ï¼ˆå¦‚ 100ï¼‰é¿å…è¶…å¤§å“åº”

### å‰ç«¯
1. **API è·¯å¾„**ï¼šç¡®è®¤åç«¯ API è·¯å¾„æ˜¯å¦éœ€è¦ `/api/v1` å‰ç¼€
2. **æ—¶é—´æ ¼å¼åŒ–**ï¼šä½¿ç”¨ç»Ÿä¸€çš„æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°
3. **é”™è¯¯å¤„ç†**ï¼šAPI è¯·æ±‚å¤±è´¥æ—¶æ˜¾ç¤ºå‹å¥½æç¤º
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ `computed` å±æ€§å¤„ç†ç­›é€‰é€»è¾‘
5. **æ ·å¼ä¸€è‡´æ€§**ï¼šä¿æŒä¸ Home.vue çš„è§†è§‰é£æ ¼ä¸€è‡´

---

## ğŸ“Š æ•°æ®è¡¨ç»“æ„

### t_risk_supervisionï¼ˆæ‰§æ³•é—®é¢˜é£é™©ç›¯åŠï¼‰

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | INTEGER | PRIMARY KEY | ä¸»é”® |
| case_number | CHAR(18) | UNIQUE, NOT NULL | æ¡ˆä»¶ç¼–å·ï¼ˆ18ä½ï¼‰ |
| case_name | VARCHAR(200) | NOT NULL | æ¡ˆä»¶åç§° |
| case_time | DATETIME | NOT NULL | æ¡ˆå‘æ—¶é—´ |
| case_type | VARCHAR(10) | NOT NULL | æ¡ˆä»¶ç±»å‹ï¼ˆåˆ‘äº‹/è¡Œæ”¿/æ²»å®‰ï¼‰ |
| risk_issues | TEXT | NOT NULL | é£é™©é—®é¢˜ï¼ˆJSON æ•°ç»„ï¼‰ |
| deadline | DATETIME | NOT NULL | æ•´æ”¹æœŸé™ |
| officer_name | VARCHAR(50) | NOT NULL | è´£ä»»æ°‘è­¦ |
| created_at | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | NOT NULL | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•ï¼š**
- `idx_risk_supervision_deadline` ON `deadline`
- `idx_risk_supervision_case_time` ON `case_time`
- `idx_risk_supervision_case_type` ON `case_type`

### t_dispute_managementï¼ˆçŸ›ç›¾çº çº·é—­ç¯ç®¡ç†ï¼‰

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | INTEGER | PRIMARY KEY | ä¸»é”® |
| event_name | VARCHAR(200) | NOT NULL | äº‹ä»¶åç§° |
| event_type | VARCHAR(100) | NOT NULL | äº‹ä»¶ç±»å‹ |
| content | VARCHAR(150) | NOT NULL | äº‹ä»¶å†…å®¹ï¼ˆâ‰¤150å­—ï¼‰ |
| event_time | DATETIME | NOT NULL | äº‹å‘æ—¶é—´ |
| risk_level | VARCHAR(10) | NOT NULL | é£é™©ç­‰çº§ï¼ˆé«˜/ä¸­/ä½ï¼‰ |
| officer_name | VARCHAR(50) | NOT NULL | è´£ä»»æ°‘è­¦ |
| status | VARCHAR(10) | NOT NULL | å¤„ç½®è¿›åº¦ |
| created_at | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | NOT NULL | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•ï¼š**
- `idx_dispute_status_risk` ON `(status, risk_level)`
- `idx_dispute_event_time` ON `event_time`
- `idx_dispute_risk_level` ON `risk_level`

### t_display_ruleï¼ˆæ˜¾ç¤ºè§„åˆ™é…ç½®ï¼‰

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | INTEGER | PRIMARY KEY | ä¸»é”® |
| page_code | VARCHAR(50) | NOT NULL | é¡µé¢ç¼–ç  |
| rule_type | VARCHAR(50) | NOT NULL | è§„åˆ™ç±»å‹ï¼ˆcolor/sort/filterï¼‰ |
| rule_name | VARCHAR(100) | NOT NULL | è§„åˆ™åç§° |
| rule_config | TEXT | NOT NULL | è§„åˆ™é…ç½®ï¼ˆJSONï¼‰ |
| priority | INTEGER | NOT NULL | ä¼˜å…ˆçº§ |
| is_enabled | INTEGER | NOT NULL | æ˜¯å¦å¯ç”¨ |
| description | TEXT | - | è§„åˆ™è¯´æ˜ |
| created_at | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | NOT NULL | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•ï¼š**
- `idx_display_rule_page_code` ON `page_code`
- `idx_display_rule_rule_type` ON `rule_type`
- `idx_display_rule_priority` ON `priority`

---

## âœ… éªŒæ”¶æ ‡å‡†

### åç«¯
- [ ] æ•°æ®åº“è¡¨åˆ›å»ºæˆåŠŸï¼ŒåŒ…å«ç¤ºä¾‹æ•°æ®
- [ ] API ç«¯ç‚¹å¯è®¿é—®ï¼Œè¿”å›æ­£ç¡®çš„ JSON æ ¼å¼
- [ ] æ ·å¼ä¿¡æ¯æ­£ç¡®è®¡ç®—ï¼ˆfont_colorã€background_colorï¼‰
- [ ] days_remaining è®¡ç®—å‡†ç¡®
- [ ] æ’åºå’Œç­›é€‰é€»è¾‘æ­£ç¡®
- [ ] Swagger UI æ–‡æ¡£å®Œæ•´

### å‰ç«¯
- [ ] é¡µé¢å¯æ­£å¸¸è®¿é—®ï¼ˆ/cases å’Œ /disputesï¼‰
- [ ] æ•°æ®æ­£ç¡®å±•ç¤ºåœ¨ DataV è¡¨æ ¼ä¸­
- [ ] æ ·å¼é«˜äº®æ­£ç¡®ï¼ˆçº¢è‰²ã€é»„è‰²ï¼‰
- [ ] æ»šåŠ¨æ•ˆæœæµç•…
- [ ] ç­›é€‰åŠŸèƒ½æ­£å¸¸ï¼ˆDisputes é¡µé¢ï¼‰
- [ ] åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†å®Œå–„
- [ ] å“åº”å¼å¸ƒå±€é€‚é…ä¸åŒå±å¹•

### ç”¨æˆ·ä½“éªŒ
- [ ] é¡µé¢åŠ è½½é€Ÿåº¦å¿«ï¼ˆ<2ç§’ï¼‰
- [ ] æ ·å¼ä¸ç°æœ‰é¡µé¢ä¸€è‡´
- [ ] äº¤äº’æµç•…ï¼Œæ— å¡é¡¿
- [ ] é”™è¯¯æç¤ºå‹å¥½
- [ ] ç©ºçŠ¶æ€æç¤ºæ¸…æ™°

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [SQLAlchemy æ–‡æ¡£](https://docs.sqlalchemy.org/)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [DataV Vue3 æ–‡æ¡£](https://github.com/kjgl77/datav-vue3)
- [UnoCSS æ–‡æ¡£](https://unocss.dev/)
- é¡¹ç›®æ–‡æ¡£ï¼š`CLAUDE.md`ã€`backend/CLAUDE.md`ã€`frontend/CLAUDE.md`
- æ•°æ®è¡¨è®¾è®¡ï¼š`.claude/æ•°æ®è¡¨è®¾è®¡.md`
- åç«¯æ¶æ„ï¼š`.claude/åç«¯æ¶æ„è®¾è®¡.md`

---

## ğŸ”„ åç»­ä¼˜åŒ–

1. **æ€§èƒ½ä¼˜åŒ–**ï¼šè€ƒè™‘å‡çº§åˆ° PostgreSQL ä»¥æ”¯æŒæ›´å¤§æ•°æ®é‡
2. **åŠŸèƒ½æ‰©å±•**ï¼šæ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆExcelã€PDFï¼‰
3. **æƒé™ç®¡ç†**ï¼šæ·»åŠ ç”¨æˆ·è§’è‰²å’Œæƒé™æ§åˆ¶
4. **å®æ—¶æ›´æ–°**ï¼šä½¿ç”¨ WebSocket å®ç°æ•°æ®å®æ—¶æ¨é€
5. **ç§»åŠ¨ç«¯é€‚é…**ï¼šä¼˜åŒ–ç§»åŠ¨ç«¯æ˜¾ç¤ºæ•ˆæœ

---

**è®¡åˆ’åˆ¶å®šäºº**: Claude (Codex + Gemini åä½œ)
**è®¡åˆ’å®¡æ‰¹**: å¾…ç”¨æˆ·ç¡®è®¤
**é¢„è®¡å¼€å§‹æ—¶é—´**: ç”¨æˆ·æ‰¹å‡†åç«‹å³å¼€å§‹
